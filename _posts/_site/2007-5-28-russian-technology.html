<p>I&#8217;ve been using <a href="http://nginx.net/">russian technology</a> for about a week now and it works really well with Rails and is easy to set up in general.</p>
<p>I&#8217;d like to thank <a href="http://errtheblog.com">err</a> for his <a href="http://errtheblog.com/post/3908">nginx config generator</a> and <a href="http://www.brainspl.at/">Ezra</a> for making me aware of nginx and his <a href="http://brainspl.at/nginx.conf.txt">config file</a>. This combination got me up and runing with ngnix in about 5 minutes.</p>
<p>However, I needed to modify the generated config file a bit to fit the standard debian file paths and users. So I modified the <span class="caps">ERB</span> template which is used to generate the config file. It should be fully backwards compatible, so if you don&#8217;t need all of these modifications you could use it and just use the modifications you need. Here&#8217;s the <a href="http://pastie.caboo.se/65434">template with my modifications</a></p>
<p>My <span class="caps">YAML</span> file looks like this:</p>
<p>user: www-data<br />
group: www-data</p>
<p>pid_path: /var/run/<br />
config_path: /etc/nginx/<br />
log_path: /var/log/nginx_</p>
<ol>
	<li>This defines the default roots and alternate roots.</li>
	<li>The name (or key) of your site will be sprintf&#8217;d with</li>
	<li>the below root, right.<br />
root: <br />
  blog:  /srv/hendrikvolkmer.de/blog/public<br />
  www: /var/www</li>
	<li>All your vhosts.<br />
sites: <br />
  blog:<br />
    upstream: <br />
      &#8211; 127.0.0.1:3000<br />
      &#8211; 127.0.0.1:3001</li>
</ol>
server_name: blog.hendrikvolkmer.de
# I added a special feeds config which generates the
# if ($http_user_agent !~ FeedBurner)  line before the actual rewrite
# line. Works fine with Mephisto and, of course Feedburner, <span class="caps">YMMV</span>
feeds:
- ^/feed/atom.xml http://feeds.feedburner.com/hendrikvolkmer
- ^/feed/all_comments.xml http://feeds.feedburner.com/hendrikvolkmer_comments

root: blog
www:
root: www
server_name: hendrikvolkmer.de
<p>Also, it&#8217;s really easy to compile nginx 0.5.20 for Debian: Just download the source, make the necessary modifications to the current deb file specifications and compile. :)</p>